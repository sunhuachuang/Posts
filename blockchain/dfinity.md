# 四层共识

## 1. ID与注册
节点注册才能参与全网的运行，注册的意义在于可奖惩机制。经济意义在于：不止是token的价值，还包括了一个外部保障金的价值。节点注册还可以是验证节点的注册。

## 2. 随机数灯塔
选举出leader VRF -> BLS算法
去中心化的随机数灯塔协议(DRB)

## 3. 区块链与分叉协议
PSP（概率插槽协议）

## 4. 公证与近乎即时的最终性

### 阀值接力与网络可扩展性
### 一致性与可用性
追求一致性。如果不一致，将会暂停。

参与者的主动功能:
1. 参与去中心化的随机灯塔
2. 参与去中心化的公证
3. 提议区块 => 根据自己的观察，建立本地的最终链

当r轮开始时，随机数塔生成随机数，然后节点收到随机数，将交易打包到一个候选区块中，将候选区块发送给公证人，公证人在等待固定的出块时间后，运行基于随机数灯塔的排序算法，选择排名最高的那个区块，广播到全网，随机数塔开始r+1轮。

随机数塔由委员会的成员一起运行，产生随机数。委员会成员一轮换一次。

网络中有很多的组，每组大小相同，委员会就是其中被选中的一个组。

##### 阀值加密
1. 阀值签名（组签名）
2. 非交互性
3. 唯一性（而非确定性），创建了一个消息签名，组内的任何有效子集的签名，最终形成组签名，都是唯一的，一样的。
4. 分布式密钥生成（DKG） Joint-Feld-man算法

##### BLS签名方案
